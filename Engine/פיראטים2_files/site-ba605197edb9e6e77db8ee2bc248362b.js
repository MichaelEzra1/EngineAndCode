function setCookie(a,e,t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3);var i="expires="+s.toUTCString();document.cookie=a+"="+e+"; "+i}function getCookie(a){for(var e=a+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var i=t[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}var pirates={};$(function(){pirates.menu.init(),pirates.manage_team.init(),pirates.scores.init(),pirates.trytowin.init(),pirates.preloader.init(),pirates.game.init(),pirates.timer.init(),pirates.lang.init(),pirates.form.init(),pirates.create_team.init(),pirates.newround.init(),$(window).resize()}),pirates.newround={init:function(){function a(){var a,e=$(".page_newround #games").find("option:selected").attr("value");switch(e){default:case"2":a="1vs2.png";break;case"4":a="1vs4.png";break;case"16":a="1vs16.png";break;case"0":a="AllvsAll.png"}$(".page_newround #imgNewRound").attr("src","/assets/skz/newround/"+a)}0!=$(".page_newround").length&&($(".page_newround #games").click(function(){a()}),a())}},pirates.form={init:function(){0!=$(".form1").length&&($(".form1 .checkbox label").append("<span/>"),$(".form1 .checkbox span").click(function(){$(this).toggleClass("on"),$(this).closest(".checkbox").find("input").prop("checked",$(this).hasClass("on")),$(this).closest(".checkbox").find("input").prop("value",$(this).hasClass("on"))}),$(".form1 .checkbox label:has(input:checked) span").addClass("on"))}},pirates.lang={init:function(){0!=$(".page_lang").length&&($(".page_lang .code").click(function(){$(this).toggleClass("on"),$(this).find("input").val($(this).hasClass("on"))}),$(".page_lang .code input").each(function(){"true"==$(this).val()&&$(this).closest(".code").addClass("on")}))}},pirates.timer={init:function(){if(0!=$(".page_timer").length)var a=!1,e=e=$(".page_timer .timer").FlipClock(interval,{clockFace:"HourlyCounter",countdown:!0,stop:function(){0==a&&(a=!0,$(".page_timer .timer").html("<div class='end'>Time Expired</div>"),$("#beepbeep")[0].play())}})}},pirates.game={init:function(){0!=$(".page_game").length&&($(".page_game .btn-debug").click(function(){$(".page_game").toggleClass("game").toggleClass("debug")}),$(window).resize(function(){var a=$(window).height()-$(".page_game .player").outerHeight(!0)-$(".page_game .score").outerHeight(!0)-10;$(".page_game .board").height(a).width(a),$(".page_game .water").width(a+168).height(a+108),$(".page_game .code").height(a-54)}))}},pirates.preloader={init:function(){function a(){var a=$(".js-game-splash");a.fadeOut("slow",function(){a.trigger("splashed"),a.remove(),$("body").removeClass("page_preloader"),$("body").addClass("page_game game"),$(".game").show(),pirates.game.init(),$(window).resize()})}if(0!=$(".page_preloader").length){$(".game").hide(),setInterval(function(){var e=parseInt($(".page_preloader .time").text(),10);$(".page_preloader .time").text(e-1),1==e&&a()},1e3);var e=$(".js-game-splash-button");e.click(function(){a()}),$(".js-game-splash").on("splashed",function(){var a=angular.element($("#game-canvas").get(0)).scope();a.$apply(function(){angular.element($("#game-canvas").get(0)).scope().play()})})}}},pirates.scores={index:0,size:6,count:0,init:function(){0!=$(".page_scores").length&&(pirates.scores.count=Math.ceil(1*$(".page_scores .table th.round").length/6),$(".page_scores_header .btn").click(function(a){a.preventDefault(),1==$(this).hasClass("btn-next")?(pirates.scores.index+=1,pirates.scores.index>pirates.scores.count&&(pirates.scores.index=1)):(pirates.scores.index-=1,0==pirates.scores.index&&(pirates.scores.index=pirates.scores.count));var e=(pirates.scores.index-1)*pirates.scores.size,t=pirates.scores.index*pirates.scores.size;$(".page_scores .table thead th.round").hide(),$(".page_scores .table thead th.round").slice(e,t).show(),$(".page_scores .table tbody tr").each(function(){$(this).find("td.round").hide(),$(this).find("td.round").slice(e,t).show()})}),$(".page_scores_header .btn-next").click())}},pirates.menu={init:function(){$(window).resize(function(){$(".menu").css("min-height",$(document).height())}),$(".menu .button").click(function(){var a=$(".menu").hasClass("show")?"90px":"220px";$(".menu").toggleClass("show"),0==$(".menu").hasClass("show")&&$(".menu li a span").toggle(),$(".menu").animate({width:a},function(){1==$(".menu").hasClass("show")&&$(".menu li a span").toggle()}),setCookie("wide_menu",$(".menu").hasClass("show"),1)}),$(".menu").addClass("show");var a=getCookie("wide_menu");"false"==a&&$(".menu .button").click()}},pirates.trytowin={init:function(){if(0!=$(".page_try_to_win").length){var a=$(".page_try_to_win .avatars #group");$(".page_try_to_win .avatars #avatars-carousel").on("slid.bs.carousel",function(){var e=$(".page_try_to_win .avatars .item.active").attr("data-value");a.val(e)}),$(".page_try_to_win .avatars .item").removeClass("active"),$(".page_try_to_win .avatars .item[data-value='"+a.val()+"']").addClass("active")}}},pirates.manage_team={init:function(){if(0!=$(".page_manage_team").length){var a=$(".page_manage_team .avatars #avatar"),e=$(".page_manage_team .flags #flag");$(".page_manage_team .avatars #avatars-carousel").on("slid.bs.carousel",function(){var e=$(".page_manage_team .avatars .item.active").attr("data-value");a.val(e.replace("avatar",""))}),$(".page_manage_team .flags .dropdown-menu a").click(function(a){a.preventDefault();var t=$(this).attr("data-value").replace("flag","");e.val(t),$(this).closest(".dropup").find(".dropdown-toggle").html($(this).html()),$(".page_manage_team .avatars .item img").each(function(a){var e="avatar"+(a+1)+"_"+t+".png",s="/assets/skz/avatars/"+e;$(this).attr("src",s)})}),$(".page_manage_team .avatars .item").removeClass("active"),$(".page_manage_team .avatars .item[data-value='avatar"+a.val()+"']").addClass("active"),$(".page_manage_team .flags .dropdown-menu a[data-value='flag"+e.val()+"']").click()}}},pirates.create_team={init:function(){if(0!=$(".page_create_team").length){var a=$(".page_create_team .avatars #avatar"),e=($(".page_create_team .flags #flag1"),$(".page_create_team .flags #flag2"));$(".page_create_team .avatars #avatars-carousel").on("slid.bs.carousel",function(){var e=$(".page_create_team .avatars .item.active").attr("data-value");a.val(e.replace("avatar",""))}),$(".page_create_team .flags .dropdown-menu a").click(function(a){a.preventDefault();var e=$(this).attr("data-value").replace("flag","");$(this).closest(".flags").find(":hidden").val(e),$(this).closest(".dropup").find(".dropdown-toggle").html($(this).html()),1==$(this).closest(".flags").hasClass("color")&&$(".page_create_team .avatars .item img").each(function(a){var t="avatar"+(a+1)+"_"+e+".png",s="/assets/skz/avatars/"+t;$(this).attr("src",s)})}),$(".page_create_team .avatars .item").removeClass("active"),$(".page_create_team .avatars .item[data-value='avatar"+a.val()+"']").addClass("active"),$(".page_create_team .flags.color .dropdown-menu a[data-value='flag"+$(".page_create_team .flags.color :hidden").val()+"']").click(),$(".flag2_"+e.val()).click()}}};